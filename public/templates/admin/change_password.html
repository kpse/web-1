<div class="panel-body">
  <form class="form-horizontal row change-password-form" role="form" name="newPasswordForm">

    <div class="col-sm-6">
      <div class="form-group">
        <label for="username" class="col-sm-4 control-label">登陆用户名</label>

        <div class="col-sm-8">
          <p id="username" class="form-control-static">{{user.login_name}}</p>
        </div>
      </div>

      <div class="form-group">
        <label for="old-password" class="col-sm-4 control-label">旧密码</label>

        <div class="col-sm-8">
          <input id="old-password" ng-model="user.old_password" type="password" name="oldPassword"
                 class="editing-field form-control" required ng-bk-focus/>
          <span class="error-field" ng-show="newPasswordForm.oldPassword.$dirty && newPasswordForm.oldPassword.$error.required">请先填写旧密码</span>
        </div>
      </div>


      <div class="form-group">
        <label for="new-password" class="col-sm-4 control-label">新密码</label>

        <div class="col-sm-8">
          <input id="new-password" ng-model="user.new_password" type="password" name="newPassword"
                 class="editing-field form-control" required ng-minlength="6"/>
          <span class="error-field" ng-show="newPasswordForm.newPassword.$dirty && newPasswordForm.newPassword.$error.required">请填写新密码</span>
          <span class="error-field" ng-show="newPasswordForm.newPassword.$dirty && newPasswordForm.newPassword.$error.minlength">密码至少6位</span>
        </div>
      </div>

      <div class="form-group">
        <label for="new-password-confirm" class="col-sm-4 control-label">重复新密码</label>

        <div class="col-sm-8">
          <input id="new-password-confirm" ng-model="user.login_password_confirm" type="password" name="newConfirm"
                 class="editing-field form-control" required/>
          <span class="error-field" ng-show="newPasswordForm.newConfirm.$dirty && user.login_password_confirm != user.new_password">两次输入不一致。</span>
          <span class="error-field" ng-show="newPasswordForm.newConfirm.$dirty && newPasswordForm.newConfirm.$error.required">请再次填写密码</span>
        </div>
      </div>


      <div class="col-sm-offset-4 col-sm-8">
        <div class="form-group">
          <a class="btn btn-warning pull-right adding-button"
             ng-disabled="newPasswordForm.$invalid || user.login_password_confirm != user.new_password"
             ng-click="change(user)">修改密码</a>
          <a class="btn btn-default pull-right adding-button"
             ng-click="$hide()">取消</a>
        </div>
      </div>
  </form>
</div>

