<div class="newsletters">

  <div class="row">
    <ul class="list-group col-sm-11">
      <li class="list-group-item read-{{news.read}} news-item"
          ng-repeat="news in newsletters | orderBy:'timestamp':true" ng-click="edit(news)" ng-class="{editable: edit}">
        <div>
          <div class="btn-group col-xs-6">
            <button class="btn btn-danger" ng-confirm-msg="你确定要删除吗?" ng-confirm-click="deleteNews(news)">删除
            </button>
            <button class="btn btn-primary" ng-show="!news.published" ng-click="publish(news);$event.stopPropagation()">发布</button>
          </div>
          <div class="col-xs-6">
            <div class="form-group">
              <p class="form-control-static">范围： {{nameOf(news.class_id) || '全校'}}</p>
            </div>
          </div>
        </div>
          <h4 class="list-group-item-heading">{{news.title}}</h4>

          <p class="list-group-item-text">{{news.content.substring(0,200)}}</p>
          <span ng-hide="news.published" class="published pull-right">未发布</span>
          <span ng-show="news.published" class="issue-date pull-right">于{{news.timestamp | date:'yyyy年MM月dd日 HH:mm:ss'}}发布</span>
        <div class="clearfix"></div>
      </li>
      <p ng-show="!loading && newsletters.length == 0">您还没有创建任何通知，请点击<a ng-click="createNews()">这里</a>创建</p>
    </ul>

    <button class="btn btn-primary col-sm-1" ng-click="addNews()">添加</button>
    <div class="loading" ng-show="loading"/>
  </div>
</div>
