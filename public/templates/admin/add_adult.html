<div class="panel-body">
  <form class="form-horizontal row" role="form" name="newAdultForm">

    <div class="col-sm-6">
      <div class="form-group">
        <label for="parent-phone" class="col-sm-4 control-label">电话号码</label>

        <div class="col-sm-8">
          <input id="parent-phone" type="text" ng-model="parent.phone" name="phone"
                 ui-mask="{{'999-9999-9999'}}"
                 class="editing-field form-control" ng-bk-focus required/>
          <span class="error-field" ng-show="newAdultForm.phone.$dirty && isPhoneDuplicated(parent)">与现有手机号重复！</span>
        </div>
      </div>

      <div class="form-group">
        <label for="parent-name" class="col-sm-4 control-label">家长姓名</label>

        <div class="col-sm-8">
          <input id="parent-name" ng-model="parent.name"
                 class="editing-field form-control" required/>
        </div>
      </div>

      <div class="form-group">
        <label for="parent-gender" class="col-sm-4 control-label">性别</label>

        <div class="col-sm-8">
          <div class="btn-group">
            <button type="button" class="btn select-button" ng-model="parent.gender" btn-radio="0">女</button>
            <button type="button" class="btn select-button" ng-model="parent.gender" btn-radio="1">男</button>
          </div>
        </div>
      </div>
      <div class="form-group">

        <label for="parent-birthday" class="col-sm-4 control-label">生日</label>

        <div class="col-sm-8">
          <div class="control-group input-append">
            <input type="text" class="form-control datepicker-input" ng-model="parent.birthday"
                   data-date-format="yyyy-MM-dd" data-date-type="string" data-max-date="today" data-autoclose="1"
                   name="date2" bs-datepicker>
            <button type="button" class="btn datepicker-button" data-toggle="datepicker"><i
              class="glyphicon glyphicon-calendar"></i></button>
          </div>
        </div>
      </div>
      <div class="form-group">

        <label for="parent-member" class="col-sm-4 control-label">会员</label>

        <div class="col-sm-8">
          <div class="control-group input-append">
            <select class="form-control member-select" ng-model="parent.member_status"
                    ng-options="value.id as value.desc for (key, value) in [{id: 1, desc: '已开通'}, {id: 0, desc:'未开通'}]"
                    data-style="btn-primary"></select>
          </div>
        </div>
      </div>

    </div>

    <div class="col-sm-6">
      <div class="form-group">
        <div class="portrait-container">
          <img class="portrait" ng-src="{{parent.portrait || '/assets/images/portrait_placeholder.png' }}"
               alt="照片"/>
        </div>
      </div>

      <div class="form-group">
        <label for="parent-pic" class="col-sm-4 control-label">上传头像</label>

        <div class="col-sm-8">
          <!--<kl-file-upload user="adminUser.id" ng-model="news" on-success="onFileUploadSuccess" on-error="onFileUploadError" label="上传头像"></kl-file-upload>-->
          <input type="file" id="parent-pic" fileupload="pic"/>
          <button class="btn btn-success btn-xs" ng-disabled="pic === undefined || pic.size > 2048000 || uploading"
                  ng-click="uploadPic(parent, this, newAdultForm)">上传头像
          </button>
          <span ng-class="{error : pic.size > 2048000}" class="help-block">图片大小请不要超过2m</span>
          <div class="uploading" ng-show="uploading"></div>
        </div>
      </div>
    </div>
    <div class="col-sm-12">
      <div class="form-group">
        <label for="parent-company" class="col-sm-2 control-label">公司</label>

        <div class="col-sm-8">
          <input id="parent-company" ng-model="parent.company"
                 class="editing-field form-control"/>
        </div>
      </div>
    </div>
    <div class="col-sm-offset-4 col-sm-8">
      <div class="form-group">
        <div class="btn-group dropup pull-right">
          <a class="btn btn-success adding-button dropdown-toggle"
             data-toggle="dropdown"
             ng-disabled="newAdultForm.$invalid || isPhoneDuplicated(parent) || uploading">保存</a>
          <ul class="dropdown-menu parent-creating-menu" role="menu">
            <li><a ng-show="newAdultForm.$dirty" ng-click="saveParent(parent)">仅保存</a></li>
            <li><a ng-show="newAdultForm.$dirty" ng-click="connectToChild(parent)">关联到小孩</a></li>
            <li><a ng-show="!newAdultForm.$dirty" ng-click="connectToChildOnly(parent)">关联到小孩</a></li>
          </ul>
          <a class="btn btn-default adding-button"
             ng-click="$hide()">取消</a>
        </div>
      </div>
    </div>
  </form>
</div>

