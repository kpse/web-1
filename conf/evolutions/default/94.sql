# --- !Ups

-- case class SchoolOperationReport(id: Long, school_id: Long, month: String, logged_once: Long, logged_ever: Long, created_at: Long, child_count: Long, parent_count: Long)

CREATE TABLE school_statistics (
  uid         INT(11) NOT NULL AUTO_INCREMENT,
  school_id   VARCHAR(20),
  month   CHAR(6),
  day   CHAR(8),
  child_count   INT(6) DEFAULT 0,
  parent_count   INT(6) DEFAULT 0,
  logged_once   INT(6),
  logged_ever   INT(6),
  created_at BIGINT,
  PRIMARY KEY (uid),
  KEY (school_id, month),
  KEY (school_id, day)
);

INSERT INTO school_statistics (school_id, month, day, parent_count, child_count, logged_once, logged_ever, created_at) VALUES
('93740362', '201601', '20160101', 1393, 685, 326, 452, 1393395313123),
('93740362', '201402', '20140201', 123, 345, 90, 100, 1393395313123),
('93740362', '201403', '20140301', 123, 345, 91, 100, 1393395313123),
('93740362', '201404', '20140401', 123, 345, 92, 100, 1393395313123),
('93740362', '201405', '20140501', 123, 345, 81, 100, 1393395313123),
('93740362', '201406', '20140601', 123, 345, 20, 100, 1393395313123),
('93740362', '201407', '20140701', 123, 345, 79, 100, 1393395313123),
('93740362', '201408', '20140801', 123, 345, 71, 100, 1393395313123),
('93740362', '201409', '20140901', 123, 345, 91, 100, 1393395313123),
('93740362', '201410', '20141001', 123, 345, 77, 100, 1393395313123),
('93740362', '201411', '20141101', 123, 345, 82, 100, 1393395313123),
('93740362', '201412', '20141201', 123, 345, 23, 100, 1393395313123),
('93740362', '201501', '20150101', 123, 345, 92, 100, 1393395313123),
('93740362', '201502', '20150201', 123, 345, 12, 100, 1393395313123),
('93740362', '201503', '20150301', 123, 345, 34, 100, 1393395313123),
('93740362', '201504', '20150401', 123, 345, 100, 100, 1393395313123),
('93740362', '201505', '20150501', 123, 345, 90, 100, 1393395313123),
('93740362', '201506', '20150601', 123, 345, 94, 100, 1393395313123),
('93740362', '201507', '20150701', 123, 345, 100, 100, 1393395313123),
('93740362', '201401', '20140101', 123, 345, 100, 100, 1393395313123),
('93740362', '201402', '20140201', 123, 345, 90, 100, 1393395313123),
('93740362', '201403', '20140301', 123, 345, 91, 100, 1393395313123),
('93740362', '201404', '20140401', 123, 345, 92, 100, 1393395313123),
('93740362', '201405', '20140501', 123, 345, 81, 100, 1393395313123),
('93740362', '201406', '20140601', 123, 345, 20, 100, 1393395313123),
('93740362', '201407', '20140701', 123, 345, 79, 100, 1393395313123),
('93740362', '201408', '20140801', 123, 345, 88, 100, 1393395313123),
('93740362', '201409', '20140901', 123, 345, 12, 100, 1393395313123),
('93740362', '201410', '20141001', 123, 345, 34, 100, 1393395313123),
('93740362', '201411', '20141101', 123, 345, 66, 100, 1393395313123),
('93740362', '201412', '20141201', 123, 345, 77, 100, 1393395313123),
('93740362', '201501', '20150101', 123, 345, 88, 100, 1393395313123),
('93740362', '201502', '20150201', 123, 345, 99, 100, 1393395313123),
('93740362', '201503', '20150301', 123, 345, 90, 100, 1393395313123),
('93740362', '201504', '20150401', 123, 345, 50, 100, 1393395313123),
('93740362', '201505', '20150501', 123, 345, 12, 100, 1393395313123),
('93740362', '201506', '20150601', 123, 345, 32, 100, 1393395313123),
('93740362', '201507', '20150701', 123, 345, 66, 100, 1393395313123),
('93740562', '201401', '20140101', 123, 345, 72, 100, 1393395313123),
('93740562', '201402', '20140201', 123, 345, 90, 100, 1393395313123),
('93740562', '201403', '20140301', 123, 345, 91, 100, 1393395313123),
('93740562', '201404', '20140401', 123, 345, 92, 100, 1393395313123),
('93740562', '201405', '20140501', 123, 345, 81, 100, 1393395313123),
('93740562', '201406', '20140601', 123, 345, 20, 100, 1393395313123),
('93740562', '201407', '20140701', 123, 345, 79, 100, 1393395313123),
('93740562', '201408', '20140801', 123, 345, 71, 100, 1393395313123),
('93740562', '201409', '20140901', 123, 345, 91, 100, 1393395313123),
('93740562', '201410', '20141001', 123, 345, 77, 100, 1393395313123),
('93740562', '201411', '20141101', 123, 345, 82, 100, 1393395313123),
('93740562', '201412', '20141201', 123, 345, 23, 100, 1393395313123),
('93740562', '201501', '20150101', 123, 345, 92, 100, 1393395313123),
('93740562', '201502', '20150201', 123, 345, 12, 100, 1393395313123),
('93740562', '201503', '20150301', 123, 345, 34, 100, 1393395313123),
('93740562', '201504', '20150401', 123, 345, 100, 100, 1393395313123),
('93740562', '201505', '20150501', 123, 345, 90, 100, 1393395313123),
('93740562', '201506', '20150601', 123, 345, 94, 100, 1393395313123),
('93740562', '201507', '20150701', 123, 345, 100, 100, 1393395313123);

# --- !Downs

DROP TABLE IF EXISTS school_statistics;